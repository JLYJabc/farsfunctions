---
title: "Vignette for fars functions"
author: "JLYJ"
date: "6 dec 2017"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

This vignette serves to illustrate how to use the farsfunctions package. The farsfunctions package, contains geodata for car accidents for each state in the US for the years 2013-2015. 

The main function of the package is to visualize the accidents using the fars_map_state() function. The function takes two arguments, state number and year.

> fars_map_state(state.num = 44, year = 2013)

```{r map, echo = FALSE}
source("R/fars_functions.R")
fars_map_state(state.num = 44, year = 2013)
```

Another usefull function in the package is fars_summarize_years, which given a list of years, generates a summary table of the accidents for each month for the given years.

> fars_summarize_years(c(2014,2015))

In addition to the main functions, a couple of helper functions are also included in the package.
fars_read_years also takes a list of years and returns data for the given years (Not shown)

> fars_read_years(c(2013,2014))

```{r read years, echo = FALSE}
fars_read_years(c(2013,2014))
```

Two other small functions are make_filename which takes a year as input, and returns the corresponding filename+incl. path, and fars_read, which given a filename reads the coresponding data into memory.

> make_filename(2013) 
> fars_read()
```{r filename}
make_filename(2013)

fars_read("data/accident_2013.csv.bz2")
```



